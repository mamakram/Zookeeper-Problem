<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link href="style.css" rel="stylesheet" />
    <title>Zookeeper</title>
  </head>
  <body>
    <div class="tab">
      <button class="tablinks active" onclick="openTab(event, 'Explanation')">
        Explanation
      </button>
      <button class="tablinks" onclick="openTab(event, 'Demo')">Demo</button>
      <button class="tablinks" onclick="openTab(event, 'References')">
        References
      </button>
    </div>

    <!-- Tab content -->
    <div id="Explanation" class="tabcontent">
      <h2 style="text-align: center" class="titleHead">
        Zookeeper problem: Solving the zookeeper algorithm in approximatively
        O(nlogn)
      </h2>
      <div style="text-align: center" class="author">
        <span class="cmr-12"
          >Amir M. Fallahi, Anthony Kerckhof, Markus Makram Ghatas
        </span>
      </div>
      <br />
      <div style="text-align: center" class="date">
        <span class="cmr-12">19 November 2021</span>
      </div>
      <h3 class="sectionHead">
        <span class="titlemark">1 </span> <a id="x1-10001"></a>Preamble
      </h3>
      <!--l. 7-->
      <p class="noindent"></p>
      <h4 class="subsectionHead">
        <span class="titlemark">1.1 </span> <a id="x1-20001.1"></a>What is the
        Zookeeper&#8217;s Problem
      </h4>
      <!--l. 8-->
      <p class="noindent">
        Let P be a simple polygon representing a zoo. From now on, we will call
        this polygon the Zoolygon.<br class="newline" />
        Let C<sub><span class="cmr-7">1</span></sub
        >,...,C<sub><span class="cmmi-7">k</span></sub> be a set of k disjoint
        convex hulls in P such that each convex hull shares an edge with our
        Zoolygon. These are the cages of our zoo.<br class="newline" />
        Let p be a vertex of P representing a zoo-keeper&#8217;s chair.<br
          class="newline"
        />The zoo-keeper&#8217;s problem is to find the shortest closed path
        starting at p and touching at least one point of each cage without
        entering them. This path is a shortest path that the zoo-keeper can take
        to feed all the animals.
        <!--l. 11-->
      </p>

      <p class="noindent"></p>
      <h4 class="subsectionHead">
        <span class="titlemark">1.2 </span> <a id="x1-30001.2"></a>Objective
      </h4>
      <!--l. 12-->
      <p class="noindent">
        The aim of this website is to provide an algorithm that solves the
        Zookeeper&#8217;s algorithm on a predefined Simple Polygon.<br
          class="newline"
        />For this, the user will be provided an environment to place cages in a
        Zoo and then find the shortest path from a chosen vertex.
        <!--l. 15-->
      </p>

      <p class="noindent"></p>
      <h3 class="sectionHead">
        <span class="titlemark">2 </span> <a id="x1-40002"></a>Environment
      </h3>
      <!--l. 16-->
      <p class="noindent"></p>
      <h4 class="subsectionHead">
        <span class="titlemark">2.1 </span> <a id="x1-50002.1"></a>Description
      </h4>
      <!--l. 17-->
      <p class="noindent">
        The environment given to the user consists of a canvas containing our
        Zoolygon (Zoo polygon). Here, the user is able to place as many cages as
        they wish by selecting points first on the polygon edges then inside to
        form a convex hull across an edge. The createCage button then creates
        said convex hull.<br class="newline" />
      </p>

      <h4 class="subsectionHead">
        <span class="titlemark">2.2 </span>
        <a id="x1-60002.2"></a>Implementation
      </h4>
      <!--l. 19-->
      <p class="noindent">
        To implement these features, a few things are necessary:<br
          class="newline"
        />
      </p>

      <ul class="itemize1">
        <li class="itemize">
          A way to reflect a point on a line, for selection of points across
          polygon edges
        </li>
        <li class="itemize">
          A way to compute the polygonal chain between two points on the Polygon
          (i.e all the vertices of the Polygon between these to points) as well
          as ways to ensure the convexity of this chain
        </li>
        <li class="itemize">
          A way to then compute the rest of the Convex hull of a cage with this
          polygonal Chain
        </li>
      </ul>
      <!--l. 25-->
      <p class="noindent">
        This implementation therefore has a lot of edge cases that have to be
        handled to restrict point placement in order to create only convex Cages
        on the Polygon.
      </p>

      <h3 class="sectionHead">
        <span class="titlemark">3 </span> <a id="x1-70003"></a>Shortest Path in
        a Simple Polygon
      </h3>
      <!--l. 27-->
      <p class="noindent"> 
        The shortest path in a simple polygon is the first step to be able to contruct
        the shortest path between all cages. To do so, we compute the dual graph of the 
        polygon. The dual is a graph of triangles, in form of a tree. There exist an edge between 
        two triangles in the dual if those two triangles share an edge in the triangulated polygon. <br class="newline"/>  
        <br class="newline"/>  
        What interests us in the dual tree is the path between two special triangles of the 
        triangulations : those who have an endpoint of the shortest path inside them. We find this path
        using a DFS in the graph. <br class="newline"/>  
        <br class="newline"/>  
        Now that we have an approximatively shortest path inside our original polygon, we can proceed the funnel algorithm.
        To do so, we first compute the list of segments of triangles crossed by our path. Then, following our path, each time we cross
        one segment of this list with our path, we can update boundaries on the shortest path using the endpoints of the 
        segment we crossed. (This is where the current implementation stops, the way boundaries are update will
        be explained when the funnel will be completed)

      

      </p>
      <h3 class="sectionHead">
        <span class="titlemark">4 </span> <a id="x1-80004"></a>Zookeeper
        algorithm
      </h3>
    </div>

    <div id="Demo" class="tabcontent">
      <h3>Demo</h3>
      <p>
        Rules: Place the desired number of Cages (a.k.a convex hulls) on the
        Polygon.
      </p>
      <p>
        Start by placing two points on the Polygon edges (these points must form
        a convex chain of vertices across the Polygon).
      </p>
      <p>
        Then, place as many points as you want inside the Polygon, press create
        Cage when done to form a convex Cage with the set of points and the two
        points on the Polygon
      </p>

      
      <div id="messages ">
        <p id="Info"></p>
        <p style="min-height: 40px; color: red" id="Error"></p>
      </div>

      <p>
        NOTE: 
        The Show Funnel button is a temporary button for the funnel algorithm in developpement. 
        It displays :
        <ul class="itemize1">
          <li class="itemize">
            the triangulation of the polygon,
          </li>
          <li class="itemize">
            the approximate shortest path between the 2 fixed points s and t (in red), 
          </li>
          <li class="itemize">
            the segments crossed by the path (in green)
          </li>
        </ul>
        The actual shortest path is still to be computed using the funnel algorithm.

      </p>

      <div id="buttons">
        <button class="button1" onclick="createCage()" id="crCage">
          Create Cage
        </button>
        <button class="button1" onclick="reset()" id="rst">Clear</button>
        <button class="button1" onclick="showFunnel()" id="funnel">
          Show Funnel
        </button>
      </div>
      <div id="scriptContainer">
        <script
          src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.4.5/math.js"
          integrity="sha512-R+I48DmxDONCcV2MyhKKVv9QYPzcmoSdNYBDNmHoJh2R4g6mqakFTBiIMYU9r/T0kK8y5Q/JvlQ8iRb5DdHV/A=="
          crossorigin="anonymous"
          referrerpolicy="no-referrer"
        ></script>

        <script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.js"></script>

        <script type="module" src="Main.js"></script>

        <noscript>Sorry, your browser does not support JavaScript!</noscript>
      </div>
    </div>

    <div id="References" class="tabcontent">
      <h3>References</h3>
      <h4>Zookeeper Algorithm</h4>
      <a
        href="https://www.sciencedirect.com/science/article/pii/S0925772102000925"
        >An O(nlogn) algorithm for the zoo-keeper's problem,Sergei
        Bespamyatnikh</a
      >
      <h4>Shortest path</h4>
      <a href="https://www.cc.gatech.edu/~rpeng/18434_S15/sspPolygon.pdf"
        >Georgia Tech - Seminar in Theoretical Computer Science : Shortest Path
        in a Polygon, Alex Grinman
      </a>
      <br />
      <a
        href="https://www.sciencedirect.com/science/article/pii/0925772194900108?via%3Dihub"
        >Computing minimum length paths of a given homotopy class,John
        Hershberger & Jack Snoeyink</a
      >
    </div>

    <!-- script to open tabs-->
    <script>
      function openTab(evt, tabName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";
      }
      document.getElementById("Explanation").style.display = "block";
    </script>
  </body>
</html>
